database:
  type: "SQLite3"
  file: test.db

select:
  name: selFestival
  param:
    name: idUser
    type: int
    default: 2

  param:
    name: minDate
    type: int
    default: 0

  sql: |
    select
    	U."NAME" as "Name",
    	F."TITLE" as "Festival",
    	F."DATE" as "Date"
    from
    	"USERS" U join "USERS_FESTIVALS" UF on
    		U."IDUSER" = UF."IDUSER"
    	join "FESTIVALS" F on
    		UF."IDFESTIVAL" = F."IDFESTIVAL"
    where
    	U."IDUSER" = ? and
    	F."DATE" > ?
    order by
    	F."DATE"

insert:
  name: selFestival

  param:
    name: idUser
    type: int
  param:
    name: userName
    type: string
  param:
    name: login
    type: string
  param:
    name: password
    type: string

  sql: |
    insert into
      "USERS" ("IDUSER", "NAME", "LOGIN", "PASSWORD")
    values
      (?, ?, ?, ?)

update:
  name: selFestival

  param:
    name: idUser
    type: int
  param:
    name: userName
    type: string
  param:
    name: login
    type: string
  param:
    name: password
    type: string

  sql: |
    update
      "USERS"
    set
      "NAME" = ?,
      "LOGIN" = ?,
      "PASSWORD" = ?
    where
      "IDUSER" = ?

extra:
  types:
    string: const char*

  namespaces:
    - TestApp

#headers:
#   - "#include <string>"
#   - typedef const char* String;
